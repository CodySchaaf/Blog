<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:125%/1.45 'Quattrocento Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Quattrocento Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;color:hsla(0,0%,0%,0.9);font-family:'Work Sans',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}ul{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.45rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:0.85rem;line-height:1.45rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.90625rem;padding-right:0;padding-top:0;margin-bottom:1.45rem;font-size:1.1487rem;line-height:1.45rem;border-left:0.54375rem solid #1ca086;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.45rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.45rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.45rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}li > ul{margin-left:1.45rem;margin-bottom:calc(1.45rem / 2);margin-top:calc(1.45rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.45rem / 2);}code{font-size:0.85rem;line-height:1.45rem;}kbd{font-size:0.85rem;line-height:1.45rem;}samp{font-size:0.85rem;line-height:1.45rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:0.96667rem;padding-right:0.96667rem;padding-top:0.725rem;padding-bottom:calc(0.725rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#1ca086;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #1ca086 1px, #1ca086 2px, rgba(0, 0, 0, 0) 2px);}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:2.175rem;margin-bottom:0.725rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.45rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"â€” ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:24.65px;}blockquote{border-left:0.27187rem solid #1ca086;color:hsla(0,0%,0%,0.59);padding-left:0.81563rem;font-style:italic;margin-left:-1.0875rem;margin-right:0;}}</style><style data-href="/styles.6d304b05549c070c5452.css">html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;border-radius:3px;overflow:auto;word-wrap:normal}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}</style><meta name="generator" content="Gatsby 2.24.47"/><title data-react-helmet="true">Takeaways From RailsConf 2014 | Coding With Cody</title><meta data-react-helmet="true" name="description" content="Hi my name is Cody Schaaf, here is my blog."/><meta data-react-helmet="true" property="og:title" content="Takeaways From RailsConf 2014"/><meta data-react-helmet="true" property="og:description" content="Hi my name is Cody Schaaf, here is my blog."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image" content="/static/me-44e454ad189afea47645b8eeef3cdda0.png"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Cody Schaaf"/><meta data-react-helmet="true" name="twitter:image" content="/static/me-44e454ad189afea47645b8eeef3cdda0.png"/><meta data-react-helmet="true" name="twitter:title" content="Takeaways From RailsConf 2014"/><meta data-react-helmet="true" name="twitter:description" content="Hi my name is Cody Schaaf, here is my blog."/><link rel="icon" href="/favicon.svg?v=1037df30b438dccae103a4383f6ef9d3" type="image/svg+xml"/><link rel="icon" href="/favicon-32x32.png?v=1037df30b438dccae103a4383f6ef9d3" type="image/png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=1037df30b438dccae103a4383f6ef9d3"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=1037df30b438dccae103a4383f6ef9d3"/><link href="//fonts.googleapis.com/css?family=Work+Sans:600|Quattrocento+Sans:400,400i,700" rel="stylesheet" type="text/css"/><link as="script" rel="preload" href="/webpack-runtime-39608ffa9fea989475de.js"/><link as="script" rel="preload" href="/framework-fd2b85530eec85104a39.js"/><link as="script" rel="preload" href="/styles-fa79fef4936efa84b233.js"/><link as="script" rel="preload" href="/app-e50a731e231cdd445f12.js"/><link as="script" rel="preload" href="/commons-5a97d3b022b97e8d2b67.js"/><link as="script" rel="preload" href="/component---src-templates-blog-template-js-9411c12da383820a586e.js"/><link as="fetch" rel="preload" href="/page-data/blog/2015-09-14-takeaways-from-railsconf-2014/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3649515864.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/63159454.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="28ej6c">.css-28ej6c{display:grid;grid:[header] 60px [main-content] 1fr [footer] / [left-gutter] 15px [content] minmax(0,1fr) [right-gutter] 15px [end];min-height:100vh;position:relative;}@media (min-width:576px){.css-28ej6c{grid:[header] 60px [main-content] 1fr [footer] / [left-gutter] minmax(0,1fr) [content] minmax(0,8fr) [right-gutter] minmax(0,1fr) [end];}}@media (min-width:992px){.css-28ej6c{grid:[header] 60px [main-content] 1fr [footer] / [left-gutter] minmax(100px,2fr) [content] minmax(auto,970px) [right-gutter] minmax(100px,2fr) [end];}}.css-28ej6c > .epwn6tf0{grid-column:content;grid-row:main-content;margin-top:50px;}</style><div class="css-28ej6c epwn6tf1"><style data-emotion-css="ot8bl">.css-ot8bl{border-top:5px solid #424242;border-bottom:1px solid #e8e8e8;grid-column:left-gutter;grid-row:header;}</style><div class="css-ot8bl eh4cb200"></div><style data-emotion-css="1d75mpw">.css-1d75mpw{border-top:5px solid #424242;border-bottom:1px solid #e8e8e8;grid-column:content;grid-row:header;}.css-1d75mpw > div{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><header class="css-1d75mpw eh4cb202"><div><style data-emotion-css="11dz512">.css-11dz512{color:#424242;margin:0;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;background-image:none;font-size:26px;line-height:56px;-webkit-letter-spacing:-1px;-moz-letter-spacing:-1px;-ms-letter-spacing:-1px;letter-spacing:-1px;text-shadow:none;}</style><a class="css-11dz512 eh4cb203" href="/"><style data-emotion-css="13inx7r">.css-13inx7r{height:56px;margin:0;padding-right:5px;}</style><style data-emotion-css="1vdb6hr animation-1l55naf">.css-1vdb6hr{height:56px;margin:0;padding-right:5px;}.css-1vdb6hr path{-webkit-animation:animation-1l55naf 2s alternate ease-in-out infinite;animation:animation-1l55naf 2s alternate ease-in-out infinite;}@-webkit-keyframes animation-1l55naf{0%{d:path("M880 192c68 70.43 100.71 210 81 264s-131 91.29-226 132-189.71 48.43-239 29-92.86-70.14-118-168c-25-97.71-27-190.86 9-254 36-63.29 129.71-109.14 215-94s210 20.43 278 91z");}100%{d:path("M820 232c68 70.43 160.71 170 141 224s-152 64.29-247 105-181.71 126.43-231 107-42.86-129.14-68-227c-25-97.71-89-197.86-53-261 36-63.29 154.71-99.14 240-84s150 65.43 218 136z");}}@keyframes animation-1l55naf{0%{d:path("M880 192c68 70.43 100.71 210 81 264s-131 91.29-226 132-189.71 48.43-239 29-92.86-70.14-118-168c-25-97.71-27-190.86 9-254 36-63.29 129.71-109.14 215-94s210 20.43 278 91z");}100%{d:path("M820 232c68 70.43 160.71 170 141 224s-152 64.29-247 105-181.71 126.43-231 107-42.86-129.14-68-227c-25-97.71-89-197.86-53-261 36-63.29 154.71-99.14 240-84s150 65.43 218 136z");}}</style><svg class="css-1vdb6hr e1x3hmmq0" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1366 768"><path d="M880 192c68 70.43 100.71 210 81 264s-131 91.29-226 132-189.71 48.43-239 29-92.86-70.14-118-168c-25-97.71-27-190.86 9-254 36-63.29 129.71-109.14 215-94s210 20.43 278 91z" fill="#1ca086"></path><text transform="translate(415.19 495.03)" style="isolation:isolate" font-size="328.57" fill="#fff" font-family="Helvetica">CS</text></svg> <!-- -->Coding With Cody</a><nav><a href="/about">About</a></nav></div></header><style data-emotion-css="1rmb0wk">.css-1rmb0wk{border-top:5px solid #424242;border-bottom:1px solid #e8e8e8;grid-column:right-gutter;grid-row:header;}</style><div class="css-1rmb0wk eh4cb201"></div><main class="css-0 epwn6tf0"><style data-emotion-css="gx0lhm">.css-gx0lhm{margin-bottom:0;}</style><h1 class="css-gx0lhm">Takeaways From RailsConf 2014</h1><style data-emotion-css="1i0eata">.css-1i0eata{display:block;margin-bottom:30px;}</style><small class="css-1i0eata">May 14th, 2014</small><p>Once everyone got passed the &#x27;The Death To TDD&#x27; hysteria, this years
most influential talks focused heavily on refactoring. This was
my first Rails conference, and while I have alway attempted to write maintainable
and clean code, I was always a little gun-shy when it came to massive refactoring.
When do you break something into a new class, and when is a method too long?</p><p>Starting a little simpler, one of my favorite talks was actually a workshop
on day one. It was with <a href="http://tutecosta.com/">Tute Costa</a>, where he took us
through some short examples of some really chaotic code, and after giving us
a few pointers, he set us loose on refactoring it.</p><p>##Taming the Flow of Control</p><p>We started out with one of my favorite refactoring techniques, mostly because
it is so simple and the least disrupting of the refactoring techniques yet can
still make a huge difference in readability. This is the code he gave us:</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class ProjectsController</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def index</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # When user is admitted at least a week ago we show it&#x27;s active projects</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if current_user &amp;&amp; current_user.created_at &lt; (Time.now - 7*24*3600)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      @projects = current_user.active_projects</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # If not admitted we show some featured projects, and set a marketing flash</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # message when user is new</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      if current_user &amp;&amp; current_user.created_at &gt; (Time.now - 7*24*3600)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        @flash_msg = &#x27;Sign up for having your own projects, and see promo ones!&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      @projects = Project.featured</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>He told us that a simple technique he uses is to just take the comment, and
convert it into the method name that is called by the if statement. Here is what
I did:</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class ProjectsController</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def index</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if user_created_more_than_a_week_ago?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      @projects = current_user.active_projects</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      @flash_msg = &#x27;Sign up for having your own projects, and see promo ones!&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      @projects = Project.featured</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def user_created_more_than_a_week_ago?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    current_user &amp;&amp; current_user.created_at &lt;  weeks_ago(1)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def weeks_ago(n)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    Time.now - n * 7*24*3600</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>As you can see the first long cryptic if statement was easily reduced to a much
more readable sentence-like method. Further more through this process it became
clear that the nested if check wasn&#x27;t even needed.</p><p>##Polymorphism at its Finest</p><p>I had never used polymorphism quite like this before. Instead of constantly checking
that the object we are dealing with can respond to a given method, we simply ensure that all
objects at this point in the code have some way of responding to it. Now when I put
it like that it sounds so obvious. But what about when we don&#x27;t find the object we are looking for.
Why shouldn&#x27;t the same concept still apply here. This is the idea that was presented to
use before we started to takle this next part.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class StatusReportJob</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def perform</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    users = {}</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    User.all.map do |user|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      users[user.name] = {</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        name: last_name(user),</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        status: last_status(user),</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        trial_days: last_trial_days(user)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    users</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  private</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def last_name(user)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if user.last_subscription &amp;&amp; user.last_subscription.respond_to?(:name)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      user.last_subscription.name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      &#x27;none&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def last_status(user)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if user.last_subscription &amp;&amp; user.last_subscription.respond_to?(:status)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      user.last_subscription.status</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      &#x27;-&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def last_trial_days(user)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if user.last_subscription &amp;&amp; user.last_subscription.respond_to?(:trial_days)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      user.last_subscription.trial_days</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      &#x27;-&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>The basic idea behind this refactoring was to have a subscription object in preform
that would always be able to respond to the methods called on it. So when
null would have originally been returned, instead a <code>NullSubscription</code> object which responds
to these methods is returned. Transforming all of that code to this:</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class StatusReportJob</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def perform</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    users = {}</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    User.all.map do |user|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      last_subscription = user.last_subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      users[user.name] = {</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        name: last_subscription.name,</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        status: last_subscription.status,</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        trial_days: last_subscription.trial_days</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    users</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>with a <code>Subscription</code>, and <code>NullSubscription</code> class defined like this:</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class Subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;Monthly Subscription&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def status</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;active&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def trial_days</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    14</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def cancel</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # telling payment gateway...</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    true</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class User</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # ...</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def last_subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    subscriptions.last || NullSubscription.new</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # ...</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class NullSubscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def cancel</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    false</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;none&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def status</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;-&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def trial_days</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;-&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>As you can see last_subscription tries to find your last subscription for you,
but when it fails it returns a new instance of NullSubscription. Then when <code>last_subscription.name</code>
is called, we get <code>&#x27;none&#x27;</code> returned if it dosen&#x27;t exist, or <code>&#x27;Monthly Subscription&#x27;</code> if it does.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">users[user.name] = {</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  name: last_subscription.name, # =&gt; &#x27;none&#x27; or Monthly Subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  status: last_subscription.status,</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  trial_days: last_subscription.trial_days</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">}</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class Subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;Monthly Subscription&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  #...</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class NullSubscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &#x27;none&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  #...</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>##We Can Rebuild Him, We Have the Technology</p><p>Now for some truly horrific code. This is the code one comes up with when they are
wrestling to get something to work and just keep throwing lines at it hoping
something will stick. Now it&#x27;s time to refactor it and make it not only work, but
also have it <em>look</em> like it works.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain"># 1. Create a class with same initialization arguments as BIGMETHOD</span></div><div class="token-line" style="color:#728fcb"><span class="token plain"># 2. Copy &amp; Paste the method&#x27;s body in the new class, with no arguments</span></div><div class="token-line" style="color:#728fcb"><span class="token plain"># 3. Replace original method with a call to the new class</span></div><div class="token-line" style="color:#728fcb"><span class="token plain"># 4. Apply &quot;Intention Revealing Method&quot; to the new class. Woot!</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class Formatter</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # More code, methods, and stuff in this big class</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def row_per_day_format(file_name)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    file = File.open file_name, &#x27;r:ISO-8859-1&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # hash[NivelConsistencia][date] = [[value, status]]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    hash = { &#x27;1&#x27; =&gt; {}, &#x27;2&#x27; =&gt; {} }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    dates = []</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    str = &#x27;&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    CSV.parse(file, col_sep: &#x27;;&#x27;).each do |row|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      next if row.empty?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      next if row[0] =~ /^\/\//</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      date = Date.parse(row[2])</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      (13..43).each do |i|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        measurement_date = date + (i-13)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        # If NumDiasDeChuva is empty it means no data</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        value  = row[7].nil? ? -99.9 : row[i]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        status = row[i + 31]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        hash_value = [value, status]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        dates &lt;&lt; measurement_date</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        hash[row[1]][measurement_date] = hash_value</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    dates.uniq.each do |date|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      if !hash[&#x27;1&#x27;][date].nil? &amp;&amp; hash[&#x27;2&#x27;][date].nil?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        # Only &#x27;bruto&#x27; (good)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        value = hash[&#x27;1&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        str &lt;&lt; &quot;#{date}\t#{value[0]}\t#{value[1]}\n&quot;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      elsif hash[&#x27;1&#x27;][date].nil? &amp;&amp; !hash[&#x27;2&#x27;][date].nil?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        # Only &#x27;consistido&#x27; (kind of good)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        value = hash[&#x27;2&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        str &lt;&lt; &quot;#{date}\t#{value[0]}\t#{value[1]}\n&quot;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      else</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        # &#x27;bruto&#x27; y &#x27;consistido&#x27; (has new and old data)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        old_value = hash[&#x27;1&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        new_value = hash[&#x27;2&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        str &lt;&lt; &quot;#{date}\t#{new_value[0]}\t#{old_value[1]}\t#{old_value[0]}\n&quot;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    str</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # More code, methods, and stuff in this big class</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>Now the idea here was to dismantel this method into its components, I gave it
my best but his solution was a little more elagent so I&#x27;ve decided to use his instead.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class FormatAtoB</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  SIN_DATOS = -99.9</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def initialize(file_name)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @file_name = file_name</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @hash  = { &#x27;1&#x27; =&gt; {}, &#x27;2&#x27; =&gt; {} }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @dates = []</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def perform</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    load_format_a_file</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    format_data_to_b</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  private</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def load_format_a_file</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    file = File.open @file_name, &#x27;r:ISO-8859-1&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    CSV.parse(file, col_sep: &#x27;;&#x27;).each do |row|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      next if row.empty? || row[0] =~ /^\/\//</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      load_month_in_hash(row)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def format_data_to_b</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    formatted_rows = @dates.uniq.map { |date| formatted_row_for(date) }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    &quot;#{formatted_rows.join(&quot;\n&quot;)}\n&quot;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def formatted_row_for(date)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    old_value = @hash[&#x27;1&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    new_value = @hash[&#x27;2&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if dato_bruto?(date)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      day = [date, old_value[0], old_value[1]]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    elsif dato_consistido?(date)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      day = [date, new_value[0], new_value[1]]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    else # &#x27;bruto&#x27; y &#x27;consistido&#x27;</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      day = [date, new_value[0], old_value[1], old_value[0]]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    day.join(&quot;\t&quot;)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def load_month_in_hash(row)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @beginning_of_month = Date.parse(row[2])</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    (13..43).each do |i|</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      load_day_in_hash(row, i)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def load_day_in_hash(row, i)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    nivel_consistencia = row[1]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    date = @beginning_of_month + (i - 13)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @dates &lt;&lt; date</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @hash[nivel_consistencia][date] = datos(row, i)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # If NumDiasDeChuva is empty it means no data</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def datos(row, i)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    data = row[7].nil? ? SIN_DATOS : row[i]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    status = row[i + 31]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    [data, status]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def dato_bruto?(date)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @hash[&#x27;1&#x27;][date] &amp;&amp; @hash[&#x27;2&#x27;][date].nil?</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def dato_consistido?(date)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @hash[&#x27;1&#x27;][date].nil? &amp;&amp; @hash[&#x27;2&#x27;][date]</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class Formatter</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def row_per_day_format(file_name)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    FormatAtoB.new(file_name).perform</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>There could still be a lot more done here, I mean are you really ever done refactoring?
But I think this grasps some of the main ideas. You want to make use of instance variables
to allow for the method to be broken up without having to pass lists of
variables from method to method. It is useful to find the variables that are inherent to the class itself.
Make those your instance variables. From there your goal is simpler, you need to
basically construct these variables to some final product, one chunk at a time. There is still a lot going
on here, but it definitely looks slightly less overwhelming when looking at manageable chunks.</p><p>The best part is that you now have a <code>FormatAtoB</code> class that can go in its own file. You shouldn&#x27;t have to add much to this file
in the future since <code>AtoB</code> is not likely to change since A should remain A and like wise with B. More importantly
you have a much cleaner <code>Formatter</code> class, now when you need a new format you can add that class to its own file and
just worry about calling the right one in <code>Formatter</code>. Now each class has a <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle">single responsibility</a>
, and is much less dependent on future changes making your code much more <a href="http://en.wikipedia.org/wiki/Solid_%28object-oriented_design%29">SOLID</a>.</p><p>##Getting the User Into Shape</p><p>For this last part, I need one to imagine a massive user model. This refactoring
on its own may seem like it is making it more complicated, but when one realizes
that they are moving all of this code out of a bloated class it makes more sense.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class User</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  attr_accessor :subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # validations</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # callbacks</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # authentication logic</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # notifications logic</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def subscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result = try_api { PaymentGateway.subscribe }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if api_result == :success</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      self.subscription = :monthly_plan</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def unsubscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result = try_api { PaymentGateway.unsubscribe }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if api_result == :success</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      self.subscription = nil</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  private</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # Try API connection, trap and log it on failures</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def try_api</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    yield</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  rescue SystemCallError =&gt; e</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # log API connection failure</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    :network_error</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # Other private methods</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>Now all of this code really should be part of some subscription class, but since it
depends on the user it seems to have just been crammed into this model. It doesn&#x27;t
look like much, but remember this is a user model that typically has hundreds of other
lines of code, likely with more examples of logic that need to be moved out as well.
To move this code out though you are going to need pass along the user. Originally I wanted to make
an instance variable called user and pass him into the initialization, but I found out
that there is a slightly sexier way to go about it through the use of a <code>Struct</code>.</p><pre><pre class="prism-code language-ruby" style="background-color:#faf8f5;color:#728fcb;padding:20px"><div class="token-line" style="color:#728fcb"><span class="token plain">class SubscriptionService &lt; Struct.new(:user)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def subscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result = try_api { PaymentGateway.subscribe }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if api_result == :success</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      user.subscription = :monthly_plan</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def unsubscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result = try_api { PaymentGateway.unsubscribe }</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    if api_result == :success</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">      user.subscription = nil</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    api_result</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  private</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # Try API connection, trap and log it on failures</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def try_api</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    yield</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  rescue SystemCallError =&gt; e</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    # log API connection failure</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    :network_error</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">class User</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  attr_accessor :subscription</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  # PodrÃ­a ser delegate :subscribe, :unsubscribe, to: :subscription_service</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def subscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    subscription_service.subscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def unsubscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    subscription_service.unsubscribe</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  private</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  def subscription_service</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    @subscription_service ||= SubscriptionService.new(self)</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">  end</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">end</span></div></pre></pre><p>This allows us to simply pass the user into <code>SubscriptionService.new(self)</code> and
from there we call user instead of self to get the desired results.
This really cleans up the user model. I also want to point out how through
the use of <code>@subscription_service ||= SubscriptionService.new(self)</code> we ensure
that a new instance is only created if we need it. We didn&#x27;t even change the users
API since it still has a suscribe and unsubscribe method, they just employ the
<code>subscription_service</code> class. This means that all of our original tests should
be completely unaffected.</p><p>##Summary</p><p>In summary the biggest favor you can do yourself before refactoring is to make sure
you have a comprehensive test suit. Once that is in place you are able to freely change
code without having to worry about secretly breaking functionality. To give this a try
for yourself fork the repository here <code>https://github.com/tute/refactoring-workshop</code>,
and refactor away. Run the tests suit to ensure you didn&#x27;t break anything. Good luck, and happy
coding.</p></main><style data-emotion-css="so4zrs">.css-so4zrs{border-top:1px solid #e8e8e8;padding-top:20px;padding-bottom:10px;margin-top:10px;grid-column:left-gutter;grid-row:footer;}</style><div class="css-so4zrs e1cmx3rn0"></div><style data-emotion-css="orjb03">.css-orjb03{border-top:1px solid #e8e8e8;padding-top:20px;padding-bottom:10px;margin-top:10px;grid-column:content;grid-row:footer;}.css-orjb03 a{text-shadow:none;}</style><footer class="css-orjb03 e1cmx3rn2"><style data-emotion-css="19m87da">.css-19m87da{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}@media (min-width:576px){.css-19m87da{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><small class="css-19m87da"><style data-emotion-css="193h2yg">.css-193h2yg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-193h2yg > *{margin-right:25px;}</style><span class="css-193h2yg"><style data-emotion-css="mqgyjv">.css-mqgyjv{list-style:none;margin-left:0;}.css-mqgyjv > li{margin-bottom:0;white-space:nowrap;}.css-mqgyjv > li a{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-mqgyjv > li svg{margin-right:5px;}</style><ul class="css-mqgyjv e1cmx3rn3"><li>Coding With Cody</li><li><a href="mailto:codyjschaaf@gmail.com">codyjschaaf@gmail.com</a></li></ul><ul class="css-mqgyjv e1cmx3rn3"><li><a href="https://github.com/CodySchaaf"><svg viewBox="0 0 16 16" height="16" width="16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path></svg>CodySchaaf</a></li><li><a href="https://twitter.com/TheCodingCody"><svg viewBox="0 0 16 16" height="16" width="16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809 c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"></path></svg><span>TheCodingCody</span></a></li></ul></span><p>Come learn with me. For comments please file an issue or pull request at<!-- --> <a href="https://github.com/CodySchaaf/Blog/issues">GitHub</a>.</p></small><small>Â© <!-- -->2020<!-- -->, Built with <a href="https://www.gatsbyjs.org">Gatsby</a></small></footer><style data-emotion-css="uwa87f">.css-uwa87f{border-top:1px solid #e8e8e8;padding-top:20px;padding-bottom:10px;margin-top:10px;grid-column:right-gutter;grid-row:footer;position:relative;}</style><div class="css-uwa87f e1cmx3rn1"><style data-emotion-css="1vpyun">.css-1vpyun{min-width:1000px;z-index:-1;height:auto;position:absolute;bottom:0;right:0;margin-bottom:-2px;}</style><style data-emotion-css="4vyale animation-tsawvl animation-9w2z4p animation-xulsg">.css-4vyale{min-width:1000px;z-index:-1;height:auto;position:absolute;bottom:0;right:0;margin-bottom:-2px;}.css-4vyale path.path1{-webkit-animation:animation-xulsg 4s alternate ease-in-out infinite;animation:animation-xulsg 4s alternate ease-in-out infinite;}.css-4vyale path.path2{-webkit-animation:animation-9w2z4p 4s alternate ease-in-out infinite;animation:animation-9w2z4p 4s alternate ease-in-out infinite;}.css-4vyale path.path3{-webkit-animation:animation-tsawvl 4s alternate ease-in-out infinite;animation:animation-tsawvl 4s alternate ease-in-out infinite;}@-webkit-keyframes animation-tsawvl{0%{d:path("M384.15 83.94c-10.77.27-5.18-5.92-2.66-12.24s2.25-12.81 12.85-16.47 32.22-4.6 56.22-10.31 16.27-28.81 19.57-26.61 17.77 29.71 35.73 35.59 73.43 2.81 86.37 6.49-16.79 14.2-45.67 19.77-56.84 6.21-73 3.72-20.2-8.14-35.83-7.57-42.77 7.33-53.58 7.63z");}100%{d:path("M379.59 85.92c-10.77.27-5.18-5.92-2.66-12.24S373 60 383.56 56.29s41 2.71 65-3 56.7-33.2 60-31-15 24.1 3 30 63.17 6.4 76.11 10.08-16.79 14.2-45.67 19.77-56.84 6.21-73 3.72-20.2-8.14-35.83-7.57-42.77 7.33-53.58 7.63z");}}@keyframes animation-tsawvl{0%{d:path("M384.15 83.94c-10.77.27-5.18-5.92-2.66-12.24s2.25-12.81 12.85-16.47 32.22-4.6 56.22-10.31 16.27-28.81 19.57-26.61 17.77 29.71 35.73 35.59 73.43 2.81 86.37 6.49-16.79 14.2-45.67 19.77-56.84 6.21-73 3.72-20.2-8.14-35.83-7.57-42.77 7.33-53.58 7.63z");}100%{d:path("M379.59 85.92c-10.77.27-5.18-5.92-2.66-12.24S373 60 383.56 56.29s41 2.71 65-3 56.7-33.2 60-31-15 24.1 3 30 63.17 6.4 76.11 10.08-16.79 14.2-45.67 19.77-56.84 6.21-73 3.72-20.2-8.14-35.83-7.57-42.77 7.33-53.58 7.63z");}}@-webkit-keyframes animation-9w2z4p{0%{d:path("M534.35 20.52c20.91 11.84 17.2 27.22 64.26 39.37s144.68 21 177.66 32.64 1.07 25.9-44.69 29.64-105.36-3.08-146.1-11.17-62.54-17.32-118.39-16.4-145.83 12-193.2 6.28-52.1-28.39-12.25-38.55 124.25-7.91 158.47-17.51 18.34-31.1 33.1-37.7 60.29 1.6 81.14 13.4z");}100%{d:path("M534.35 20.52c20.91 11.84 17.2 27.22 64.26 39.37s144.68 21 177.66 32.64 1.07 25.9-44.69 29.64-105.36-3.08-146.1-11.17-62.54-17.32-118.39-16.4-145.83 12-193.2 6.28-52.1-28.39-12.25-38.55 133.7-7.45 167.92-17-1.76-28.4 13-35 70.94-1.61 91.79 10.19z");}}@keyframes animation-9w2z4p{0%{d:path("M534.35 20.52c20.91 11.84 17.2 27.22 64.26 39.37s144.68 21 177.66 32.64 1.07 25.9-44.69 29.64-105.36-3.08-146.1-11.17-62.54-17.32-118.39-16.4-145.83 12-193.2 6.28-52.1-28.39-12.25-38.55 124.25-7.91 158.47-17.51 18.34-31.1 33.1-37.7 60.29 1.6 81.14 13.4z");}100%{d:path("M534.35 20.52c20.91 11.84 17.2 27.22 64.26 39.37s144.68 21 177.66 32.64 1.07 25.9-44.69 29.64-105.36-3.08-146.1-11.17-62.54-17.32-118.39-16.4-145.83 12-193.2 6.28-52.1-28.39-12.25-38.55 133.7-7.45 167.92-17-1.76-28.4 13-35 70.94-1.61 91.79 10.19z");}}@-webkit-keyframes animation-xulsg{0%{d:path("M673.39 52.74c27.23 12.36 70.08 24.09 87.31 39.61 17.06 15.5 8.59 34.77-45.65 38.11-54.07 3.37-153.91-9.17-241.94-11.16s-164.31 6.52-229.81 4.15-120.09-15.65-172-32.07S-30 55.45 22.32 48.3s206.19-2 289.56-10.2S408.35 8.19 448.35 2s106.83 3.12 146.26 14.28 51.26 24.1 78.78 36.46z");}100%{d:path("M677.95 50.76c27.23 12.36 70.08 24.09 87.31 39.61 17.06 15.5 8.59 34.77-45.65 38.11-54.07 3.37-153.91-9.17-241.94-11.16s-164.31 6.52-229.81 4.15-120.09-15.65-172-32.07-107-42.94-54.72-50.09 208.63-3.78 292-12 100-18.79 140-25 106.62.83 146.05 12 51.24 24.09 78.76 36.45z");}}@keyframes animation-xulsg{0%{d:path("M673.39 52.74c27.23 12.36 70.08 24.09 87.31 39.61 17.06 15.5 8.59 34.77-45.65 38.11-54.07 3.37-153.91-9.17-241.94-11.16s-164.31 6.52-229.81 4.15-120.09-15.65-172-32.07S-30 55.45 22.32 48.3s206.19-2 289.56-10.2S408.35 8.19 448.35 2s106.83 3.12 146.26 14.28 51.26 24.1 78.78 36.46z");}100%{d:path("M677.95 50.76c27.23 12.36 70.08 24.09 87.31 39.61 17.06 15.5 8.59 34.77-45.65 38.11-54.07 3.37-153.91-9.17-241.94-11.16s-164.31 6.52-229.81 4.15-120.09-15.65-172-32.07-107-42.94-54.72-50.09 208.63-3.78 292-12 100-18.79 140-25 106.62.83 146.05 12 51.24 24.09 78.76 36.45z");}}</style><svg class="e1cmx3rn4 css-4vyale ekj8xjh0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 587.79 64.03"><defs><clipPath id="a"><path fill="none" d="M-.44.29h588v64h-588z"></path></clipPath></defs><g clip-path="url(#a)"><path class="path1" d="M673.39 52.74c27.23 12.36 70.08 24.09 87.31 39.61 17.06 15.5 8.59 34.77-45.65 38.11-54.07 3.37-153.91-9.17-241.94-11.16s-164.31 6.52-229.81 4.15-120.09-15.65-172-32.07S-30 55.45 22.32 48.3s206.19-2 289.56-10.2c88.68 5.19 96.68-29.6 136.68-35.81s111 3 145 18c39.53 11.12 52.31 20.09 79.83 32.45z" fill="#7bdcb5"></path><path class="path2" d="M534.35 20.52c20.91 11.84 17.2 27.22 64.26 39.37s144.68 21 177.66 32.64 1.07 25.9-44.69 29.64-105.36-3.08-146.1-11.17-62.54-17.32-118.39-16.4-145.83 12-193.2 6.28-52.1-28.39-12.25-38.55 124.25-7.91 158.47-17.51 18.34-31.1 33.1-37.7 60.29 1.6 81.14 13.4z" fill="#dca27b"></path><path class="path3" d="M379.59 85.92c-10.77.27-5.18-5.92-2.66-12.24s2.25-12.81 12.85-16.47S422 52.61 446 46.9s13.27-30.81 16.57-28.61S483.34 50 501.3 55.88s73.43 2.81 86.37 6.49-16.79 14.2-45.67 19.77-56.84 6.21-73 3.72-20.2-8.14-35.83-7.57-42.77 7.33-53.58 7.63z" fill="#dc7b8f"></path></g></svg></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2015-09-14-takeaways-from-railsconf-2014/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5e618993d83e95d4da71.js"],"app":["/app-e50a731e231cdd445f12.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8ee23c3800f7a30cb208.js"],"component---src-pages-about-js":["/component---src-pages-about-js-fe19301ceeb7742e2326.js"],"component---src-pages-index-js":["/component---src-pages-index-js-ac590f9fba58898b7d8b.js"],"component---src-templates-blog-template-js":["/component---src-templates-blog-template-js-9411c12da383820a586e.js"]};/*]]>*/</script><script src="/polyfill-5e618993d83e95d4da71.js" nomodule=""></script><script src="/component---src-templates-blog-template-js-9411c12da383820a586e.js" async=""></script><script src="/commons-5a97d3b022b97e8d2b67.js" async=""></script><script src="/app-e50a731e231cdd445f12.js" async=""></script><script src="/styles-fa79fef4936efa84b233.js" async=""></script><script src="/framework-fd2b85530eec85104a39.js" async=""></script><script src="/webpack-runtime-39608ffa9fea989475de.js" async=""></script></body></html>